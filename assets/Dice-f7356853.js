import{D as z}from"./DetailHeader-47695dd5.js";import{d as I,M as s,D as V,r as w,b as l,c as k,g as m,_ as C,l as B,h as g,f as a,F as P,e as S,P as T,w as y,i as h,p as N,k as j}from"./index-17477c0a.js";const E=I({__name:"DiceCore",emits:["throwEnd"],setup(d,{expose:x,emit:t}){const _=t,i=s(!1),r=s(0),v=s(["/public/images/dice/dice_run1.png","/public/images/dice/dice_run2.png","/public/images/dice/dice_run3.png","/public/images/dice/dice_run4.png"]),D=s({1:"/public/images/dice/dice1.png",2:"/public/images/dice/dice2.png",3:"/public/images/dice/dice3.png",4:"/public/images/dice/dice4.png",5:"/public/images/dice/dice5.png",6:"/public/images/dice/dice6.png"}),u=s(1),c=s(0),o=async()=>{let e=1;return e=Math.floor(Math.random()*6+1),e},f=async()=>{i.value||(u.value=await o(),await p(),_("throwEnd",u.value))},p=async()=>new Promise(e=>{i.value=!0;let b=0;c.value=setInterval(()=>{let n=r.value;n++,n>=v.value.length&&(n=0),r.value=n,b++,b>12&&(clearInterval(c.value),i.value=!1,e(!0))},100)});return V(()=>{clearInterval(c.value)}),x({throwDice:f}),(e,b)=>{const n=w("el-image");return l(),k("div",{class:"dice-wrap",onTap:f},[i.value?(l(),m(n,{key:0,src:v.value[r.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(l(),m(n,{key:1,src:D.value[u.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}});const H=C(E,[["__scopeId","data-v-e4166c13"],["__file","D:/3code/14H5/tools-vue-ts/src/components/Tools/Dice/DiceCore.vue"]]),M=d=>(N("data-v-aa451518"),d=d(),j(),d),A={class:"flex flex-col mt-3 flex-1"},F={class:"p-4 rounded-2xl bg-white"},R=M(()=>a("view",{class:"grow-[1.5]"},null,-1)),U={class:"flex justify-center grow-[3]"},K={class:"flex flex-wrap h-96 items-center"},L={class:""},$={class:"ml-5 flex justify-center"},q={class:"w-4/6"},G={class:"mb-5 flex justify-center"},J=I({__name:"Dice",setup(d){const x=B({title:"投骰子"}),t=s(1),_=s(!1),i=s(),r=s(0),v=async()=>{_.value=!0;let u=await new Promise(c=>{for(let o=0;o<t.value;o++)i.value[o].throwDice();c(!0)});setTimeout(()=>{console.log(u),_.value=!1},1200)},D=()=>{r.value++};return(u,c)=>{const o=w("el-text"),f=w("el-slider"),p=w("el-button");return l(),k("div",A,[g(z,{title:x.title},null,8,["title"]),a("div",F,[R,a("div",U,[a("div",K,[(l(!0),k(P,null,S(t.value,e=>(l(),m(H,{ref_for:!0,ref_key:"diceRef",ref:i,key:r.value,class:T([t.value==1?"dice_full":"",t.value==3&&e==1?"dice_full":"dice_default",t.value==5&&e==3?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),a("div",L,[a("div",$,[g(o,{style:{}},{default:y(()=>[h("骰子数量：")]),_:1}),a("div",q,[g(f,{class:"w-72 ml-3",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=e=>t.value=e),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),a("div",G,[_.value?(l(),m(p,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:y(()=>[h("投骰子...")]),_:1})):(l(),m(p,{key:0,type:"primary",class:"w-48",size:"large",onClick:v},{default:y(()=>[h("投骰子")]),_:1})),g(p,{type:"primary",class:"w-48",size:"large",onClick:D},{default:y(()=>[h("重置")]),_:1})])])])}}});const W=C(J,[["__scopeId","data-v-aa451518"],["__file","D:/3code/14H5/tools-vue-ts/src/components/Tools/Dice/Dice.vue"]]);export{W as default};
