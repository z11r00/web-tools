import{D as I}from"./DetailHeader-47695dd5.js";import{J as k}from"./time-bfbe2dc8.js";import{a as V,g as C}from"./file-9a076f23.js";import{d as W,l as z,u as D,M as E,r as i,b as p,c as h,h as l,f as e,w as o,i as n,t as u,j as c,J as N,H as S,_ as T}from"./index-17477c0a.js";function U(_){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})","i").test(_)}const B={class:"flex flex-col mt-3 flex-1"},H={class:"p-4 rounded-2xl bg-white"},J={class:"mt-3"},j=e("b",null,"域名: ",-1),M={class:"mt-3 flex"},P=e("b",null,"logo: ",-1),R={key:0,class:"ml-2 flex items-center"},F={class:"mt-3 flex"},L=e("b",null,"标题: ",-1),O={class:"mt-3 flex"},q=e("b",null,"关键词: ",-1),A={class:"mt-3 flex"},G=e("b",null,"描述: ",-1),K=W({__name:"WebInfo",setup(_){const d=z({title:"网站favicon获取"}),s=D(),t=E(),b=async()=>{try{if(U(t.value)){!t.value.includes("http://")&&!t.value.includes("https://")&&(t.value="http://"+t.value);const r=new URL(t.value);t.value=r.hostname,await s.getWebInfo({link:t.value})}else S({message:"无效的域名或地址",type:"error",duration:1500})}catch(r){console.error("Error fetching site info:",r)}},v=()=>{V(s.webInfo.logo,k()+"."+C(s.webInfo.logo))};return(r,f)=>{const m=i("el-button"),g=i("el-input"),a=i("el-text"),x=i("el-link"),w=i("el-image");return p(),h("div",B,[l(I,{title:d.title},null,8,["title"]),e("div",H,[e("div",null,[l(g,{modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=y=>t.value=y),style:{"max-width":"600px"},placeholder:"请输入域名或地址",class:"input-with-select",size:"large"},{append:o(()=>[l(m,{type:"primary",onClick:b},{default:o(()=>[n("获取")]),_:1})]),_:1},8,["modelValue"])]),e("div",null,[e("ul",null,[e("li",J,[l(a,null,{default:o(()=>[j]),_:1}),l(x,{href:"https://"+t.value,type:"primary",target:"_blank"},{default:o(()=>[n(u(t.value),1)]),_:1},8,["href"])]),e("li",M,[l(a,null,{default:o(()=>[P]),_:1}),c(s).webInfo.logo?(p(),h("div",R,[l(w,{src:c(s).webInfo.logo,class:"h-12"},null,8,["src"]),l(m,{class:"ml-3",link:"",type:"primary",onClick:v},{default:o(()=>[n("下载")]),_:1})])):N("",!0)]),e("li",F,[l(a,null,{default:o(()=>[L,n(u(c(s).webInfo.title),1)]),_:1})]),e("li",O,[l(a,null,{default:o(()=>[q,n(" "+u(c(s).webInfo.keywords),1)]),_:1})]),e("li",A,[l(a,null,{default:o(()=>[G,n(" "+u(c(s).webInfo.desc),1)]),_:1})])])])])])}}}),$=T(K,[["__file","D:/3code/14H5/tools-vue-ts/src/components/Tools/WebInfo/WebInfo.vue"]]);export{$ as default};
