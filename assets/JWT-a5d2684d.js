import{D as T}from"./DetailHeader-47695dd5.js";import{d as V,l as C,M as h,o as N,r as f,b as u,c as b,h as r,f as e,g as w,w as _,i as o,J as m,_ as W}from"./index-17477c0a.js";class p extends Error{}p.prototype.name="InvalidTokenError";function M(s){return decodeURIComponent(atob(s).replace(/(.)/g,(t,n)=>{let l=n.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function O(s){let t=s.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return M(t)}catch{return atob(t)}}function I(s,t){if(typeof s!="string")throw new p("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,l=s.split(".")[n];if(typeof l!="string")throw new p(`Invalid token specified: missing part #${n+1}`);let d;try{d=O(l)}catch(a){throw new p(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(d)}catch(a){throw new p(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}const z={class:"flex flex-col mt-3 flex-1"},D={class:"p-4 rounded-2xl bg-white"},E={class:"mb-6"},j={class:"mt-3"},S={key:0},U=e("div",{class:"mb-3"},"Header(头部)",-1),H={key:1},B=e("div",{class:"mb-3 mt-3"},"Payload(载荷)",-1),$=e("br",null,null,-1),A=e("br",null,null,-1),F=e("br",null,null,-1),P=e("br",null,null,-1),Y=e("br",null,null,-1),G=e("br",null,null,-1),L=e("br",null,null,-1),R=e("br",null,null,-1),X=e("br",null,null,-1),q=e("br",null,null,-1),K=e("br",null,null,-1),Z=e("br",null,null,-1),Q=V({__name:"JWT",setup(s){const t=C({title:"JWT解析",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ0b29scy5yYW5ibG9ncy5jb20iLCJzdWIiOiJhcnlhIiwiYXVkIjoidGFvcmFuIiwiaWF0IjoxNzE3MDM2MzMzLCJleHAiOjE3MTcwMzY5MzN9.9v_eDdsPnvcY7qZatNnKvN9VEf7t7o72OgwhLS6gy6w"}),n=h(),l=h(),d=h(!1),a=()=>{try{l.value=JSON.stringify(I(t.token),null,"	"),n.value=JSON.stringify(I(t.token,{header:!0}),null,"	")}catch(y){console.log("Invalid token",y),d.value=!0}},J=()=>{t.token="",n.value="",l.value=""};return N(()=>{a()}),(y,i)=>{const v=f("el-input"),k=f("el-text"),g=f("el-button"),x=f("el-divider");return u(),b("div",z,[r(T,{title:t.title},null,8,["title"]),e("div",D,[e("div",E,[r(v,{modelValue:t.token,"onUpdate:modelValue":i[0]||(i[0]=c=>t.token=c),rows:5,type:"textarea",placeholder:"请输入Token",onChange:a},null,8,["modelValue"]),d.value?(u(),w(k,{key:0,type:"danger"},{default:_(()=>[o("Invalid token")]),_:1})):m("",!0),e("div",j,[r(g,{type:"primary",onClick:a},{default:_(()=>[o("解析")]),_:1}),r(g,{type:"primary",onClick:J},{default:_(()=>[o("清除")]),_:1})])]),n.value?(u(),b("div",S,[U,r(v,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=c=>n.value=c),type:"textarea",autosize:!0,class:"w-full"},null,8,["modelValue"])])):m("",!0),l.value?(u(),b("div",H,[B,l.value?(u(),w(v,{key:0,modelValue:l.value,"onUpdate:modelValue":i[2]||(i[2]=c=>l.value=c),type:"textarea",autosize:!0,class:"w-full"},null,8,["modelValue"])):m("",!0)])):m("",!0),r(x,{"content-position":"left"},{default:_(()=>[o("描述")]),_:1}),e("div",null,[r(k,null,{default:_(()=>[o(" 1. JWT 是 JSON Web Tokens 的缩写，是目前最流行的跨域认证解决方案，是一个开放式标准(RFC 7519)，用于在各方之间以JSON对象安全传输信息。"),$,o(" 2. Header(头部)"),A,o("   - typ(type): 用来标识整个token字符串是一个JWT字符串"),F,o("   - alg(algorithm): 用来说明这个JWT签发的时候所使用的签名和摘要算法"),P,o(" 3. Payload(载荷)"),Y,o("   - iss (Issuer)：签发者"),G,o("   - sub (Subject)：主题"),L,o("   - aud (Audience)：接收者"),R,o("   - exp (Expiration time)：过期时间"),X,o("   - nbf (Not Before)：生效时间"),q,o("   - iat (Issued At)：签发时间"),K,o("   - jti (JWT ID)：编号"),Z]),_:1})])])])}}}),oe=W(Q,[["__file","D:/3code/14H5/tools-vue-ts/src/components/Tools/JWT/JWT.vue"]]);export{oe as default};
